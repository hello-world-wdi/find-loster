(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,a){e.exports=a(95)},47:function(e,t,a){},48:function(e,t,a){},81:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(19),c=a.n(l),r=a(14),i=a(5),s=a(6),u=a(8),m=a(7),h=a(9),d=(a(47),a(48),a(24)),p=a.n(d),f=a(25),g=a.n(f);g.a.initializeApp({apiKey:"AIzaSyCTbBcJZLB5hmPm3LEpQXMkrbc60eOgQYc",authDomain:"learningtoreact.firebaseapp.com",databaseURL:"https://learningtoreact.firebaseio.com",projectId:"learningtoreact",storageBucket:"",messagingSenderId:"203802469519",appId:"1:203802469519:web:2ddcf658d709d916",rules:{".read":"auth != null",".write":"auth != null"}});var b={losses:function(){return p()({method:"get",url:"https://public.opendatasoft.com/api/records/1.0/search/?dataset=namus-missings&facet=cityoflastcontact&facet=countydisplaynameoflastcontact&facet=raceethnicity&facet=statedisplaynameoflastcontact&facet=gender"})},firebase:g.a,getCity:function(){return p()({method:"get",url:"https://maps.googleapis.com/maps/api/geocode/json?latlng=21.5678976,39.1856128&key=AIzaSyDIAICVZcHIUeFjNMsHhoNoYcKHuYWdCuY"})}},y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={losses:[],city:a.props.city},a.componentDidMount=function(){var e=a.state.losses.slice();b.losses().then(function(t){e=t.data.records.map(function(e){return e.fields}),a.setState({losses:e.filter(function(e){return e.countydisplaynameoflastcontact===a.state.city})})}).catch(function(e){return console.log(e)})},a.componentWillMount=function(){b.firebase.database().ref("location").on("value",function(e){var t=Object.keys(e.val())[Object.keys(e.val()).length-1],n=e.val()[t].city;a.setState({city:n})})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"lost"},this.state.losses.map(function(e){return o.a.createElement("div",{key:e.image.id},o.a.createElement("h1",null,e.firstname),o.a.createElement("h3",null,e.countydisplaynameoflastcontact),o.a.createElement("p",null,e.dateoflastcontact),o.a.createElement(r.b,{to:"lost/details/".concat(e.image.id)},"Show more"),o.a.createElement("hr",null))}))}}]),t}(n.Component);y.defaultProps={city:"San Diego"};var v=y,E=a(15),j=(a(81),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={losses:[]},a.componentDidMount=function(){var e=a.state.losses.slice();b.losses().then(function(t){e=t.data.records.map(function(e){return e.fields}),a.setState({losses:e})}).catch(function(e){return console.log(e)})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.losses.filter(function(t){return t.image.id===e.props.match.params.id});return console.log(t[0]),o.a.createElement("div",{className:"Details"},t.map(function(e){var t=e.firstname,a=e.middlename,n=e.lastname,l=e.countydisplaynameoflastcontact,c=e.dateoflastcontact,r=e.image,i=e.gender,s=e.computedmissingmaxage,u=e.currentagefrom;return o.a.createElement("div",{key:r.id},o.a.createElement("h1",null,"".concat(t," ").concat(a," ").concat(n)),o.a.createElement("p",null,i),o.a.createElement("h3",null,l),o.a.createElement("h3",null,c),o.a.createElement("h4",null,s," || ",u))}))}}]),t}(n.Component)),O=a(21),C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={userLocation:{lat:32,lng:32},loading:!0},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(e){var t=this;navigator.geolocation.getCurrentPosition(function(e){var a=e.coords,n=a.latitude,o=a.longitude;t.setState({userLocation:{lat:n,lng:o},loading:!1}),b.getCity().then(function(e){var t=b.firebase.database(),a=e.data.plus_code.compound_code.indexOf(",")+2,n=e.data.plus_code.compound_code.slice(a);n=n.slice(0,n.indexOf(" "));t.ref("location").update({city:n}).then(function(){return console.log("City updated")},function(e){return console.log("City not updated because ".concat(e))})})},function(){t.setState({loading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.userLocation,n=this.props.google;return t?null:o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(O.Map,{google:n,initialCenter:a,zoom:14},o.a.createElement(O.Marker,{onClick:this.onMarkerClick,name:"Current location"}))))}}]),t}(n.Component),w=Object(O.GoogleApiWrapper)({apiKey:"AIzaSyDIAICVZcHIUeFjNMsHhoNoYcKHuYWdCuY"})(C),D=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(r.b,{to:"/"},"Home"),o.a.createElement("br",null),o.a.createElement(r.b,{to:"/lost"},"Help"),o.a.createElement("br",null),o.a.createElement(r.b,{to:"/newLostInf"},"New Lost"))}}]),t}(n.Component),k=(a(94),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={formData:{name:"",phone:"",lose:{name:"",gender:"",city:"",age:"",date:""}}},a.handelChange=function(e){var t=e.target.value,n=e.target.name,o=Object.assign(a.state.formData);n.includes("u")?o[n.slice(1)]=t:o.lose[n]=t,a.setState({formData:o})},a.handelSubmit=function(e){e.preventDefault(),b.firebase.database().ref().push(a.state.formData).then(function(){return console.log("Data Saved")},function(e){return console.log("Data not Saved: ".concat(e))}),a.props.history.push("/lost")},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"NewLostInf"},o.a.createElement("h1",null,"Information"),o.a.createElement("form",{onSubmit:this.handelSubmit},o.a.createElement("label",null,o.a.createElement("h3",null,"Your Information")),o.a.createElement("label",null,"Name: "),o.a.createElement("input",{name:"uname",type:"text",value:this.state.formData.name,onChange:this.handelChange}),o.a.createElement("label",null,"Phone: "),o.a.createElement("input",{name:"uphone",type:"text",value:this.state.formData.phone,onChange:this.handelChange}),o.a.createElement("hr",null),o.a.createElement("label",null,o.a.createElement("h3",null,"Lose Information")),o.a.createElement("label",null,"Name: "),o.a.createElement("input",{name:"name",type:"text",value:this.state.formData.lose.name,onChange:this.handelChange}),o.a.createElement("label",null,"Gender: "),o.a.createElement("select",{name:"gender",value:this.state.formData.lose.gender,onChange:this.handelChange},o.a.createElement("option",{value:""}),o.a.createElement("option",{value:"male"},"Male"),o.a.createElement("option",{value:"female"},"Female")),o.a.createElement("label",null,"City: "),o.a.createElement("input",{name:"city",type:"text",value:this.state.formData.lose.city,onChange:this.handelChange}),o.a.createElement("label",null,"Age: "),o.a.createElement("input",{name:"age",type:"number",value:this.state.formData.lose.age,onChange:this.handelChange}),o.a.createElement("label",null,"Date: "),o.a.createElement("input",{name:"date",type:"date",value:this.state.formData.lose.date,onChange:this.handelChange}),o.a.createElement("br",null),o.a.createElement("input",{type:"Submit",value:"Save"})))}}]),t}(o.a.Component)),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(D,null),o.a.createElement(E.a,{exact:!0,path:"/",component:w}),o.a.createElement(E.a,{exact:!0,path:"/lost/",component:v}),o.a.createElement(E.a,{exact:!0,path:"/lost/details/:id",component:j}),o.a.createElement(E.a,{exact:!0,path:"/newLostInf",component:k}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=o.a.createElement(r.a,null,o.a.createElement(I,null)),A=document.getElementById("root");c.a.render(S,A),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.9b247dfc.chunk.js.map